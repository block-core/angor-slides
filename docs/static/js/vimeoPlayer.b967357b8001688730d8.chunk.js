(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[a]="01a69e60-fc02-4212-baf8-2c9b95e03862",s._sentryDebugIdIdentifier="sentry-dbid-01a69e60-fc02-4212-baf8-2c9b95e03862")}catch{}})();var _global=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};_global.SENTRY_RELEASE={id:"4.37.21@a9113e14ccb"},function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[a]="01a69e60-fc02-4212-baf8-2c9b95e03862",s._sentryDebugIdIdentifier="sentry-dbid-01a69e60-fc02-4212-baf8-2c9b95e03862")}catch{}}();var _global=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};_global.SENTRY_RELEASE={id:"4.37.21@a9113e14ccb"},(self.webpackChunkvisme_web=self.webpackChunkvisme_web||[]).push([[1838],{99043:(s,a,i)=>{i.d(a,{A:()=>l});var r=i(842099);const f=333,d=1;class n{videoId;id;el;endSeconds;startSeconds;thumbnail;additionalOptions;autoplay;looped;isPlayOnSetLoopedEnabled;muted;onEnd;onPause;onPlaying;onReady;onSeek;onMuteToggle;withControls;videoPlayer=null;isReady=!1;isFinished=!1;isFirstStart=!1;_playingTimer=null;_willPlayOnReady=!1;constructor({el:e,id:t,videoId:o,muted:u=!1,looped:y=!1,isPlayOnSetLoopedEnabled:c=!0,autoplay:_=!1,withControls:P=!1,startSeconds:p=0,thumbnail:g=null,additionalOptions:v={},endSeconds:m=null,onEnd:E=()=>null,onReady:b=()=>null,onPlaying:T=()=>null,onSeek:S=()=>null,onPause:w=()=>null,onMuteToggle:A=()=>null}){this.el=e,this.id=t,this.videoId=o,this.muted=u,this.looped=y,this.isPlayOnSetLoopedEnabled=c,this.autoplay=_,this.withControls=P,this.startSeconds=p,this.endSeconds=m,this.onEnd=E,this.onReady=b,this.onPlaying=T,this.onPause=w,this.onMuteToggle=A,this.onSeek=S,this.thumbnail=g,this.additionalOptions=v,this.init().catch(this.handleError)}init(){return this.createPlayer()}async createPlayer(){await this._createPlayer(),this.isReady=!0,r.A.addToList(this),(this.autoplay||this._willPlayOnReady)&&this.play(),this.onReady(),this.isFirstStart=!0}async handleStartTime(){await this.getCurrentTime()<this.startSeconds&&this.seekTo(this.startSeconds)}async handleEndTime(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const t=await this.getCurrentTime();!this.endSeconds||t<this.endSeconds||(this.isFinished=!0,this.looped||e?(this.seekTo(this.startSeconds),this.play()):(this.pause(),this.handleEnd()))}setStartSeconds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.startSeconds!==e&&(this.startSeconds=e,this.handleStartTime().catch(this.handleError))}setEndSeconds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.endSeconds!==e&&(this.endSeconds=e,this.handleEndTime().catch(this.handleError))}async _createPlayer(){}async getDuration(){return 0}play(){this.isReady?this._play():this._willPlayOnReady=!0}_play(){}pause(){}stop(){this.pause()}async isPlaying(){return this.isReady?this._isPlaying():!1}async _isPlaying(){return!1}async togglePlaying(){await this.isPlaying()?this.pause():this.play()}setLooped(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.looped!==e&&(this.looped=e,this.looped&&this.isPlayOnSetLoopedEnabled&&this.play(),this._setLooped(e))}_setLooped(e){}mute(){}unMute(){}async isMuted(){return!1}_handleMute(e){this.onMuteToggle(e)}forceAbortBuffering(){}destroy(){r.A.removeFromList(this),this._playingTimer!==null&&clearInterval(this._playingTimer),this._destroy()}_destroy(){}seekTo(e){}async getCurrentTime(){return 0}_handleSeek(e){this.onSeek(e)}_handlePlaying(){this.onPlaying(),this.handleStartTime().catch(this.handleError),this.handleEndTime(!0).catch(this.handleError),this.checkIsFinished(),this._playingTimer||(this._playingTimer=setInterval(()=>{this.handleEndTime(!1).catch(this.handleError),this.checkIsFinished()},f))}_handlePause(){this.onPause(),this._playingTimer!==null&&(clearInterval(this._playingTimer),this._playingTimer=null)}handleEnd(){this.isFinished=!0,this.looped?this.play():this.onEnd&&this.onEnd()}async checkIsFinished(){const e=await this.getDuration(),t=await this.getCurrentTime();e-t<d&&(this.isFinished=!0)}playbackRate(){return this._playbackRate()}_playbackRate(){return 1}handleError(e){console.error(e)}}const l=n},842099:(s,a,i)=>{i.d(a,{A:()=>d});var r=i(114317);const d=r.types.model({}).volatile(()=>({players:new Set})).actions(n=>({addToList(l){n.players.add(l)},removeFromList(l){n.players.delete(l)},pauseAllPlayersExcept(l){n.players.forEach(async h=>{h!==l&&h.pause()})}})).actions(n=>({pauseAllPlayers(){n.pauseAllPlayersExcept(null)}})).create()},217595:(s,a,i)=>{i.d(a,{default:()=>h});var r=i(212790),f=i(644893),d=i(99043);const n="https://player.vimeo.com/api/player.js";class l extends d.A{init(){return(0,f.k)(n).then(()=>(0,r.waitForVariable)("Vimeo")).then(()=>this.createPlayer()).catch(this.handleError)}_createPlayer(){return this.videoPlayer=new Vimeo.Player(this.el),this.videoPlayer.ready().then(()=>this._handleReady())}_handleReady(){var t,o,u,y,c;if(!this.videoPlayer)return Promise.resolve();if((t=this.videoPlayer)===null||t===void 0||t.on("ended",this.handleEnd.bind(this)),(o=this.videoPlayer)===null||o===void 0||o.on("play",this._handlePlaying.bind(this)),(u=this.videoPlayer)===null||u===void 0||u.on("pause",this._handlePause.bind(this)),(y=this.videoPlayer)===null||y===void 0||y.on("seeked",this._handleSeekEvent.bind(this)),(c=this.videoPlayer)===null||c===void 0||c.on("volumechange",this._handleVolumeChange.bind(this)),this.muted){var _;(_=this.videoPlayer)===null||_===void 0||_.setVolume(0).catch(this.handleError)}return this.looped&&this._setLooped(!0),Promise.resolve()}_handleSeekEvent(t){this._handleSeek(t.seconds)}_handleVolumeChange=t=>{this._handleMute(t.volume===0)};_setLooped(t){this.videoPlayer.setLoop(t).catch(this.handleError)}async getDuration(){return this.videoPlayer.getDuration()}_play(){this.videoPlayer.play()}pause(){this.videoPlayer.getPaused().then(t=>{t===!1&&this.videoPlayer.pause()})}async _isPlaying(){const[t,o]=await Promise.all([this.videoPlayer.getEnded(),this.videoPlayer.getPaused()]);return!t&&!o}async _handleMuteStatusAsync(t){const o=await this.isMuted();t!==o&&await this.videoPlayer.setVolume(t?0:1)}mute(){this._handleMuteStatusAsync(!0)}unMute(){this._handleMuteStatusAsync(!1)}async isMuted(){return await this.videoPlayer.getVolume()===0}seekTo(t){this.videoPlayer.setCurrentTime(t)}async getCurrentTime(){return this.videoPlayer.getCurrentTime()}_destroy(){this.videoPlayer&&(this.videoPlayer.off("ended"),this.videoPlayer.off("play"),this.videoPlayer.off("pause"),this.videoPlayer.off("seeked"),this.videoPlayer.off("volumechange"),this.videoPlayer.destroy())}}const h=l}}]);

//# sourceMappingURL=vimeoPlayer.b967357b8001688730d8.chunk.js.map