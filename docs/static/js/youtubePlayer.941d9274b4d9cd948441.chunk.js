(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[a]="f2dc4f90-a76d-4449-b15f-bfc94b40b5c8",i._sentryDebugIdIdentifier="sentry-dbid-f2dc4f90-a76d-4449-b15f-bfc94b40b5c8")}catch{}})();var _global=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};_global.SENTRY_RELEASE={id:"4.37.21@a9113e14ccb"},function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[a]="f2dc4f90-a76d-4449-b15f-bfc94b40b5c8",i._sentryDebugIdIdentifier="sentry-dbid-f2dc4f90-a76d-4449-b15f-bfc94b40b5c8")}catch{}}();var _global=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};_global.SENTRY_RELEASE={id:"4.37.21@a9113e14ccb"},(self.webpackChunkvisme_web=self.webpackChunkvisme_web||[]).push([[3093],{358187:(i,a,s)=>{s.d(a,{u:()=>o});const o=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"https:";return!d.startsWith("//")||window.location.protocol!=="file:"?d:`${h}${d}`}},99043:(i,a,s)=>{s.d(a,{A:()=>r});var o=s(842099);const d=333,h=1;class l{videoId;id;el;endSeconds;startSeconds;thumbnail;additionalOptions;autoplay;looped;isPlayOnSetLoopedEnabled;muted;onEnd;onPause;onPlaying;onReady;onSeek;onMuteToggle;withControls;videoPlayer=null;isReady=!1;isFinished=!1;isFirstStart=!1;_playingTimer=null;_willPlayOnReady=!1;constructor({el:e,id:u,videoId:p,muted:t=!1,looped:n=!1,isPlayOnSetLoopedEnabled:_=!0,autoplay:f=!1,withControls:g=!1,startSeconds:P=0,thumbnail:c=null,additionalOptions:m={},endSeconds:v=null,onEnd:b=()=>null,onReady:T=()=>null,onPlaying:E=()=>null,onSeek:S=()=>null,onPause:I=()=>null,onMuteToggle:w=()=>null}){this.el=e,this.id=u,this.videoId=p,this.muted=t,this.looped=n,this.isPlayOnSetLoopedEnabled=_,this.autoplay=f,this.withControls=g,this.startSeconds=P,this.endSeconds=v,this.onEnd=b,this.onReady=T,this.onPlaying=E,this.onPause=I,this.onMuteToggle=w,this.onSeek=S,this.thumbnail=c,this.additionalOptions=m,this.init().catch(this.handleError)}init(){return this.createPlayer()}async createPlayer(){await this._createPlayer(),this.isReady=!0,o.A.addToList(this),(this.autoplay||this._willPlayOnReady)&&this.play(),this.onReady(),this.isFirstStart=!0}async handleStartTime(){await this.getCurrentTime()<this.startSeconds&&this.seekTo(this.startSeconds)}async handleEndTime(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const u=await this.getCurrentTime();!this.endSeconds||u<this.endSeconds||(this.isFinished=!0,this.looped||e?(this.seekTo(this.startSeconds),this.play()):(this.pause(),this.handleEnd()))}setStartSeconds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.startSeconds!==e&&(this.startSeconds=e,this.handleStartTime().catch(this.handleError))}setEndSeconds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.endSeconds!==e&&(this.endSeconds=e,this.handleEndTime().catch(this.handleError))}async _createPlayer(){}async getDuration(){return 0}play(){this.isReady?this._play():this._willPlayOnReady=!0}_play(){}pause(){}stop(){this.pause()}async isPlaying(){return this.isReady?this._isPlaying():!1}async _isPlaying(){return!1}async togglePlaying(){await this.isPlaying()?this.pause():this.play()}setLooped(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.looped!==e&&(this.looped=e,this.looped&&this.isPlayOnSetLoopedEnabled&&this.play(),this._setLooped(e))}_setLooped(e){}mute(){}unMute(){}async isMuted(){return!1}_handleMute(e){this.onMuteToggle(e)}forceAbortBuffering(){}destroy(){o.A.removeFromList(this),this._playingTimer!==null&&clearInterval(this._playingTimer),this._destroy()}_destroy(){}seekTo(e){}async getCurrentTime(){return 0}_handleSeek(e){this.onSeek(e)}_handlePlaying(){this.onPlaying(),this.handleStartTime().catch(this.handleError),this.handleEndTime(!0).catch(this.handleError),this.checkIsFinished(),this._playingTimer||(this._playingTimer=setInterval(()=>{this.handleEndTime(!1).catch(this.handleError),this.checkIsFinished()},d))}_handlePause(){this.onPause(),this._playingTimer!==null&&(clearInterval(this._playingTimer),this._playingTimer=null)}handleEnd(){this.isFinished=!0,this.looped?this.play():this.onEnd&&this.onEnd()}async checkIsFinished(){const e=await this.getDuration(),u=await this.getCurrentTime();e-u<h&&(this.isFinished=!0)}playbackRate(){return this._playbackRate()}_playbackRate(){return 1}handleError(e){console.error(e)}}const r=l},842099:(i,a,s)=>{s.d(a,{A:()=>h});var o=s(114317);const h=o.types.model({}).volatile(()=>({players:new Set})).actions(l=>({addToList(r){l.players.add(r)},removeFromList(r){l.players.delete(r)},pauseAllPlayersExcept(r){l.players.forEach(async y=>{y!==r&&y.pause()})}})).actions(l=>({pauseAllPlayers(){l.pauseAllPlayersExcept(null)}})).create()},289798:(i,a,s)=>{s.d(a,{default:()=>u});var o=s(212790),d=s(358187),h=s(644893),l=s(99043);const r=(0,d.u)("//www.youtube.com/iframe_api"),y=1;class e extends l.A{previousTime=this.startSeconds;progressIntervalID=null;pollingIntervalTime=100;isYoutubeMuted=!1;videoPlayer;async init(){await(0,h.k)(r),await(0,o.waitForVariable)("YT.Player"),await this.createPlayer(),this._pollPlayerState(),this.isYoutubeMuted=await this.isMuted(),this._pollPlayerState()}_createPlayer(){return new Promise(t=>{this.videoPlayer=new YT.Player(this.el.id,{playerVars:{enablejsapi:!0},events:{onReady:t,onStateChange:this._onPlayerStateChange}})})}_onPlayerStateChange=t=>{switch(t.data){case YT.PlayerState.PLAYING:this._handlePlaying();break;case YT.PlayerState.PAUSED:this._handlePause();break;case YT.PlayerState.ENDED:this.handleEnd();break;default:}};_pollPlayerState=()=>{var t;this.progressIntervalID&&clearInterval(this.progressIntervalID),!(this.looped||!(!((t=this.additionalOptions)===null||t===void 0)&&t.objectModelAutoplay))&&(this.progressIntervalID=setInterval(this._checkPlayerState,this.pollingIntervalTime))};_checkPlayerState=()=>{const t=2*this.pollingIntervalTime/1e3,n=this.videoPlayer.getCurrentTime(),_=this.playbackRate(),f=n-this.previousTime;Math.abs(f)>t*_&&(!this.endSeconds||n-this.startSeconds<this.endSeconds)&&(this.isFirstStart||this._handleSeek(n-this.startSeconds)),this.previousTime=n;const c=this.videoPlayer.isMuted();this.isYoutubeMuted!==c&&(this.isYoutubeMuted=c,this._handleMute(c))};async getDuration(){return this.videoPlayer.getDuration()}_play(){this.videoPlayer.playVideo()}get isLive(){var t,n;return(n=this.videoPlayer.playerInfo)===null||n===void 0||(t=n.videoData)===null||t===void 0?void 0:t.isLive}pause(){this.isFirstStart&&(this.isFirstStart=!1),this.videoPlayer.pauseVideo(),this._handlePause()}async _isPlaying(){return this.videoPlayer.getPlayerState()===y}mute(){this.videoPlayer.mute()}unMute(){this.videoPlayer.unMute()}async isMuted(){return this.videoPlayer.isMuted()}seekTo(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.videoPlayer.seekTo(t,n)}async getCurrentTime(){return this.videoPlayer.getCurrentTime()}_destroy(){this.progressIntervalID&&(clearInterval(this.progressIntervalID),this.progressIntervalID=null),this.videoPlayer&&this.videoPlayer.destroy()}}const u=e}}]);

//# sourceMappingURL=youtubePlayer.941d9274b4d9cd948441.chunk.js.map